<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Home</title>
        <!-- Required meta tags -->
        <meta charset="utf-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1, shrink-to-fit=no"
        />
        <link rel="icon" href="./imagenes/van.png" />

        <!-- Bootstrap CSS -->
        <link
            rel="stylesheet"
            href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
            integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
            crossorigin="anonymous"
        />
        <link
            rel="stylesheet"
            href="https://use.fontawesome.com/releases/v5.7.0/css/all.css"
            integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ"
            crossorigin="anonymous"
        />
        <link rel="stylesheet" href="./style/home.css" />
        <link rel="stylesheet" href="./style/calendar.css" />
    </head>
    <body>
        <!-- Optional JavaScript -->
        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        <script
            src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            crossorigin="anonymous"
        ></script>
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
            crossorigin="anonymous"
        ></script>
        <script
            src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            crossorigin="anonymous"
        ></script>
        <script src="script/home.js"></script>

        <div id="style"></div>

        <!-- NAV BAR -->
        <div class="container">
            <nav
                class="navbar navbar-expand-lg navbar-light bg-light fixed-top"
                id="navbar"
            >
                <!-- Brand -->
                <a class="navbar-brand" href="#">@ VAN </a>
                <button
                    class="navbar-toggler"
                    type="button"
                    data-toggle="collapse"
                    data-target="#navbarSupportedContent"
                    aria-controls="navbarSupportedContent"
                    aria-expanded="false"
                    aria-label="Toggle navigation"
                >
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Links -->
                <div
                    class="collapse navbar-collapse"
                    id="navbarSupportedContent"
                >
                    <ul class="navbar-nav m-auto">
                        <li class="nav-item active">
                            <a class="nav-link" aria-current="page" href="#"
                                >Tareas<span class="sr-only">(current)</span></a
                            >
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="profile.html">Perfil</a>
                        </li>
                    </ul>
                </div>

                <!--AÑADIR TAREA-->
                <a
                    class="nav-link"
                    href="#"
                    data-toggle="modal"
                    data-target="#nuevaTarea"
                    onclick="getUsers('selectUsersNew', 'editselectUsersNew')"
                >
                    <img
                        src="imagenes/plus.png"
                        class="rounded-circle"
                        width="30"
                        height="30"
                    />
                </a>

                <ul class="navbar-nav">
                    <!-- Notification dropdown -->
                    <li class="nav-item dropleft">
                        <a
                            class="nav-link dropdown-toggle hidden-arrow"
                            href="#"
                            id="navbarDropdown"
                            role="button"
                            data-toggle="dropdown"
                            aria-haspopup="true"
                            aria-expanded="false"
                        >
                            <i class="fas fa-bell"></i>
                            <span
                                class="badge rounded-pill badge-notification bg-danger"
                                id="numNotif"
                            ></span>
                        </a>
                        <ul
                            class="dropdown-menu"
                            aria-labelledby="navbarDropdown"
                            id="notifList"
                        ></ul>
                    </li>
                    <!-- User Profile -->
                    <li class="nav-item dropleft">
                        <a
                            class="nav-link dropdown-toggle"
                            href="#"
                            id="navbarDropdown"
                            role="button"
                            data-toggle="dropdown"
                            aria-haspopup="true"
                            aria-expanded="false"
                        >
                            <img
                                src="imagenes/user.png"
                                class="rounded-circle"
                                width="30"
                                height="30"
                            />
                        </a>
                        <ul
                            class="dropdown-menu"
                            aria-labelledby="navbarDropdown"
                        >
                            <li>
                                <a
                                    class="dropdown-item"
                                    onclick="cerrarSesion()"
                                    >Cerrar Sesión</a
                                >
                            </li>
                            <li>
                                <a class="dropdown-item" href="editProfile.html"
                                    >Editar Usuario</a
                                >
                            </li>
                        </ul>
                    </li>

                    <li class="nav-item"></li>
                </ul>
            </nav>
        </div>

        <div id="alerts"></div>
        <!-- CONTAINER PRINCIPAL -->
        <div class="row d-flex containertasks">
            <div class="col-md-4">
                <div class="row">
                    <!-- SEARCH -->
                    <div class="col-md-12">
                        <form action="">
                            <div
                                class="p-1 bg-light rounded rounded-pill shadow-sm mb-4"
                            >
                                <div class="input-group">
                                    <input
                                        id="search"
                                        type="search"
                                        placeholder="search"
                                        class="form-control border-0 bg-light"
                                        onkeyup="loadTareasJSON()"
                                    />
                                    <div class="input-group-append">
                                        <button
                                            id="button-addon1"
                                            type="submit"
                                            class="btn btn-link text-secondary"
                                        >
                                            <i class="fa fa-search"> </i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <!-- ETIQUETAS -->
                    <div class="col-md-12">
                        <div class="form-group">
                            <select
                                id="etiqueta"
                                class="form-control pill"
                                onchange="loadTareasJSON()"
                            >
                                <option selected>ALL</option>
                                <option id="WORK">WORK</option>
                                <option>URGENT</option>
                                <option>HOME</option>
                                <option>FRIENDS</option>
                                <option>FAMILY</option>
                                <option>PENDING</option>
                                <option>SCHOOL</option>
                            </select>
                        </div>
                    </div>

                    <!-- FECHA -->
                    <!-- <div class="col-md-12">
                        <div class="form-group">
                            <div class="input-group">
                                <input
                                    type="date"
                                    class="form-control"
                                    id="date"
                                    max="31/12/2024"
                                    min="1/1/1900"
                                />
                            </div>
                        </div>
                    </div> -->
                    <br />
                    <br />
                    <br />

                    <!-- CALENDARIO -->
                    <div class="col-md-12">
                        <!-- rounded rounded-pill shadow-sm -->
                        <div class="month">
                            <ul>
                                <li class="prev">
                                    <a type="button" onclick="changeMonth(-1)"
                                        >&#10094;</a
                                    >
                                </li>
                                <li class="next">
                                    <a
                                        role="button"
                                        type="button"
                                        onclick="changeMonth(1)"
                                        >&#10095;</a
                                    >
                                </li>
                                <li>
                                    <div id="monthName"></div>
                                    <br /><span
                                        style="font-size: 18px"
                                        id="year"
                                        >2021</span
                                    >
                                </li>
                            </ul>
                        </div>

                        <ul class="weekdays">
                            <li>Mo</li>
                            <li>Tu</li>
                            <li>We</li>
                            <li>Th</li>
                            <li>Fr</li>
                            <li>Sa</li>
                            <li>Su</li>
                        </ul>

                        <ul id="days" class="days"></ul>
                        <a
                            class="btn todayBtn"
                            role="button"
                            onclick="returnToday()"
                            >RESET</a
                        >
                    </div>

                    <!-- PIE CHART -->
                    <!-- <div class="col-md-12">
                        <center>
                            <div class="pie"></div>
                        </center> -->
                    <!-- etiquetas -->
                    <!-- <div class="legend">
                            <div class="segment1"></div>
                            <div>Completadas</div>
                            <div class="segment2"></div>
                            <div>Pendientes</div>
                            <div class="segment3"></div>
                            <div>Urgentes</div>
                        </div>
                    </div> -->
                </div>
            </div>

            <script>
                window.addEventListener("load", function (event) {
                    loadTareasJSON();
                });
            </script>

            <!-- TASKS LISTS -->
            <div class="col-md-8">
                <div class="card-hover-shadow-2x mb-3 card">
                    <div class="card-header-tab card-header">
                        <div
                            class="card-header-title font-size-lg text-capitalize font-weight-normal"
                        >
                            <i class="fa fa-tasks"></i>&nbsp;Tareas
                        </div>
                    </div>
                    <div class="scroll-area-sm">
                        <perfect-scrollbar class="ps-show-limits">
                            <div
                                style="position: static"
                                class="ps ps--active-y"
                            >
                                <div class="ps-content">
                                    <ul
                                        class="list-group list-group-flush"
                                        id="tareas"
                                    >
                                        <script>
                                            window.addEventListener(
                                                "load",
                                                function (event) {
                                                    loadTareasJSON();
                                                }
                                            );
                                        </script>
                                    </ul>
                                </div>
                            </div>
                        </perfect-scrollbar>
                    </div>
                </div>
            </div>
        </div>
        <br />
        <br />
        <br />
        <br />

        <!-- MODAL CONFIRMACIÓN ELIMINAR -->
        <div id="modalDelete"></div>

        <!-- MODAL EDITAR TAREA -->
        <div id="modalEditarTarea"></div>

        <!-- MODAL NUEVA TAREA -->
        <div class="modal fade" id="nuevaTarea" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <!-- Modal Header -->
                    <div class="modal-header" id="modalalertsTarea">
                        <h4 class="modal-title">Nueva Tarea</h4>
                        <button
                            type="button"
                            class="close"
                            data-dismiss="modal"
                            onclick="location.reload()"
                        >
                            &times;
                        </button>
                    </div>
                    <!-- Modal body -->
                    <div class="modal-body">
                        <div class="col-lg-12">
                            <div class="card" id="card">
                                <div class="card-body">
                                    <div class="row mb-3">
                                        <div class="col-sm-3">
                                            <h6 class="mb-0">Tarea</h6>
                                        </div>
                                        <div class="col-sm-9 text-secondary">
                                            <input
                                                type="text"
                                                class="form-control"
                                                id="descripcionTarea"
                                            />
                                        </div>
                                    </div>

                                    <div class="row mb-3">
                                        <div class="col-sm-3">
                                            <h6 class="mb-0">
                                                Selección usuarios
                                            </h6>
                                        </div>
                                        <div class="col-sm-9 text-secondary">
                                            <select
                                                class="form-control"
                                                id="selectUsersNew"
                                                onchange="selectUser('selectUsersNew', 'editselectUsersNew')"
                                            >
                                                <option>
                                                    -- SELECCIONAR --
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="row mb-3">
                                        <div class="col-sm-3">
                                            <h6 class="mb-0">Usuarios</h6>
                                        </div>
                                        <div class="col-sm-9 text-secondary">
                                            <ul class="list-group">
                                                <li
                                                    class="list-group-item"
                                                    id="editselectUsersNew"
                                                ></li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="row mb-3">
                                        <div class="col-sm-3">
                                            <h6 class="mb-0">
                                                Selección etiquetas
                                            </h6>
                                        </div>
                                        <div class="col-sm-9 text-secondary">
                                            <select
                                                class="form-control"
                                                id="selectEtiquetaNew"
                                                onchange="selectUser('selectEtiquetaNew', 'etiquetasAgregadasNew')"
                                            >
                                                <option>
                                                    -- SELECCIONAR --
                                                </option>
                                                <option id="WORK">WORK</option>
                                                <option id="URGENT">
                                                    URGENT
                                                </option>
                                                <option id="HOME">HOME</option>
                                                <option id="FRIENDS">
                                                    FRIENDS
                                                </option>
                                                <option id="FAMILY">
                                                    FAMILY
                                                </option>
                                                <option id="PENDING">
                                                    PENDING
                                                </option>
                                                <option id="SCHOOL">
                                                    SCHOOL
                                                </option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="row mb-3">
                                        <div class="col-sm-3">
                                            <h6 class="mb-0">Etiquetas</h6>
                                        </div>
                                        <div class="col-sm-9 text-secondary">
                                            <ul class="list-group">
                                                <li
                                                    class="list-group-item"
                                                    id="etiquetasAgregadasNew"
                                                ></li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="row mb-3">
                                        <div class="col-sm-3">
                                            <h6 class="mb-0">Fecha</h6>
                                        </div>
                                        <div class="col-sm-9 text-secondary">
                                            <input
                                                type="date"
                                                class="form-control"
                                                id="fechaTarea"
                                            />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Modal footer -->
                    <div class="modal-footer">
                        <button
                            class="btn btn-success"
                            onclick="addTarea()"
                            data-dismiss="modal"
                        >
                            Guardar
                        </button>
                        <button
                            type="button"
                            class="btn btn-light"
                            data-dismiss="modal"
                            onclick="location.reload()"
                        >
                            Cancelar
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                <footer class="page-footer font-small fixed-bottom" id="navbar">
                    <div class="footer-copyright text-center py-3">
                        Proyecto Aplicaciones y Servicios WEB <br />ITESO 2022
                    </div>
                </footer>
            </div>
        </div>
        <!-- ALERTA DE TAREA COMPLETADA -->
        <script>
            function tareaCompletada() {
                alert("¡Tarea completada con éxito!");
            }
        </script>
        <script src="./script/calendar.js"></script>
        <script src="./script/users.js"></script>
        <script src="./script/notifications.js"></script>
    </body>
</html>
